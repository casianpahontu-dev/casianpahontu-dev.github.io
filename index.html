<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChemAI - Învățare Personalizată la Chimie</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4a6fa5;
            --secondary: #166088;
            --accent: #4cb5ae;
            --light: #f8f9fa;
            --dark: #343a40;
            --success: #28a745;
            --warning: #ffc107;
            --danger: #dc3545;
            --gradient: linear-gradient(135deg, #4a6fa5, #166088);
            --gradient-accent: linear-gradient(135deg, #4cb5ae, #3a9a94);
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
            --shadow-lg: 0 20px 50px rgba(0,0,0,0.15);
            --radius: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--light);
            color: var(--dark);
            line-height: 1.7;
            overflow-x: hidden;
        }
        
        /* Header Styles */
        header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            color: var(--dark);
            padding: 1rem 0;
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            transition: var(--transition);
        }
        
        header.scrolled {
            background: rgba(255, 255, 255, 0.98);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .logo {
            font-size: 2rem;
            font-weight: 800;
            display: flex;
            align-items: center;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .logo span {
            color: var(--accent);
            -webkit-text-fill-color: var(--accent);
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }
        
        .nav-links a {
            color: var(--dark);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
            position: relative;
            padding: 0.5rem 0;
        }
        
        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--gradient);
            transition: var(--transition);
        }
        
        .nav-links a:hover {
            color: var(--primary);
        }
        
        .nav-links a:hover::after {
            width: 100%;
        }
        
        .auth-buttons {
            display: flex;
            gap: 1rem;
        }
        
        .auth-btn {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
            padding: 0.6rem 1.5rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 600;
            transition: var(--transition);
        }
        
        .auth-btn:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(74, 111, 165, 0.3);
        }
        
        .auth-btn.signup {
            background: var(--gradient);
            color: white;
            border: none;
        }
        
        .auth-btn.signup:hover {
            background: var(--gradient-accent);
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(76, 181, 174, 0.4);
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            color: var(--dark);
        }
        
        .user-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            background: var(--gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            font-size: 1.2rem;
        }
        
        /* Modal Styles */
        .auth-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.7);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: white;
            border-radius: var(--radius);
            width: 90%;
            max-width: 450px;
            padding: 2.5rem;
            box-shadow: var(--shadow-lg);
            position: relative;
            animation: modalFade 0.3s;
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        @keyframes modalFade {
            from { opacity: 0; transform: translateY(-50px) scale(0.9); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        .close-modal {
            position: absolute;
            top: 1.2rem;
            right: 1.5rem;
            font-size: 1.5rem;
            cursor: pointer;
            color: #999;
            transition: var(--transition);
            background: none;
            border: none;
        }
        
        .close-modal:hover {
            color: var(--dark);
            transform: rotate(90deg);
        }
        
        .modal-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--secondary);
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--dark);
        }
        
        .form-control {
            width: 100%;
            padding: 1rem 1.2rem;
            border: 2px solid #e9ecef;
            border-radius: var(--radius);
            font-size: 1rem;
            transition: var(--transition);
            background: #f8f9fa;
        }
        
        .form-control:focus {
            border-color: var(--accent);
            outline: none;
            background: white;
            box-shadow: 0 0 0 3px rgba(76, 181, 174, 0.1);
        }
        
        .form-footer {
            text-align: center;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid #e9ecef;
        }
        
        .form-footer a {
            color: var(--accent);
            text-decoration: none;
            font-weight: 600;
            transition: var(--transition);
        }
        
        .form-footer a:hover {
            color: var(--primary);
            text-decoration: underline;
        }
        
        .modal-btn {
            width: 100%;
            padding: 1rem;
            background: var(--gradient);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            margin-top: 1rem;
        }
        
        .modal-btn:hover {
            background: var(--gradient-accent);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 181, 174, 0.3);
        }
        
        /* Hero Section */
        .hero {
            background: 
                linear-gradient(rgba(74, 111, 165, 0.9), rgba(22, 96, 136, 0.95)),
                url('https://images.unsplash.com/photo-1532094349884-543bc11b234d?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: white;
            padding: 10rem 2rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero-content {
            max-width: 900px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        .hero h1 {
            font-size: 4rem;
            margin-bottom: 1.5rem;
            line-height: 1.1;
            font-weight: 800;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.3);
        }
        
        .hero p {
            font-size: 1.4rem;
            margin-bottom: 3rem;
            opacity: 0.95;
            font-weight: 300;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: var(--gradient-accent);
            color: white;
            padding: 1.2rem 2.5rem;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 700;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            box-shadow: 0 10px 25px rgba(76, 181, 174, 0.3);
        }
        
        .btn:hover {
            background: var(--gradient);
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(76, 181, 174, 0.4);
        }
        
        .btn-large {
            padding: 1.5rem 3rem;
            font-size: 1.3rem;
        }
        
        /* Sections */
        section {
            padding: 6rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 4rem;
            color: var(--secondary);
            font-size: 3rem;
            font-weight: 800;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--gradient);
            border-radius: 2px;
        }
        
        .section-subtitle {
            text-align: center;
            max-width: 800px;
            margin: 0 auto 4rem;
            font-size: 1.3rem;
            color: #666;
            line-height: 1.8;
        }
        
        /* Features */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 3rem;
        }
        
        .feature-card {
            background-color: white;
            border-radius: var(--radius);
            padding: 3rem 2.5rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
            background: var(--gradient);
        }
        
        .feature-card:hover {
            transform: translateY(-15px);
            box-shadow: var(--shadow-lg);
        }
        
        .feature-icon {
            font-size: 4rem;
            margin-bottom: 2rem;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .feature-card h3 {
            margin-bottom: 1.5rem;
            color: var(--secondary);
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        .feature-card p {
            color: #666;
            line-height: 1.7;
        }
        
        /* Demo Section */
        .demo {
            background-color: #f8fbff;
            border-radius: var(--radius);
            padding: 4rem;
            margin-top: 2rem;
            border: 1px solid rgba(74, 111, 165, 0.1);
        }
        
        .demo-container {
            display: flex;
            flex-wrap: wrap;
            gap: 4rem;
            align-items: center;
        }
        
        .demo-content {
            flex: 1;
            min-width: 300px;
        }
        
        .demo-visual {
            flex: 1;
            min-width: 300px;
            background-color: white;
            border-radius: var(--radius);
            padding: 2.5rem;
            box-shadow: var(--shadow);
            border: 1px solid rgba(0,0,0,0.05);
        }
        
        .molecule {
            text-align: center;
            margin: 2rem 0;
        }
        
        .molecule-structure {
            font-family: monospace;
            font-size: 1.5rem;
            margin: 1.5rem 0;
            padding: 1.5rem;
            background-color: #f8f9fa;
            border-radius: var(--radius);
            border-left: 4px solid var(--accent);
            box-shadow: inset 0 2px 5px rgba(0,0,0,0.05);
        }
        
        .quiz-option {
            padding: 1.2rem;
            margin: 1rem 0;
            background: #f8f9fa;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            font-weight: 500;
        }
        
        .quiz-option:hover {
            background: #e9ecef;
            border-color: var(--accent);
        }
        
        /* Testimonials */
        .testimonial {
            background-color: white;
            border-radius: var(--radius);
            padding: 3rem;
            margin: 1.5rem 0;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--accent);
            transition: var(--transition);
        }
        
        .testimonial:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }
        
        .testimonial-author {
            display: flex;
            align-items: center;
            margin-top: 2rem;
        }
        
        .testimonial-author img {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            margin-right: 1.5rem;
            object-fit: cover;
            border: 3px solid var(--accent);
        }
        
        .testimonial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2.5rem;
        }
        
        /* Test Section */
        .test-section {
            background: 
                linear-gradient(rgba(74, 111, 165, 0.9), rgba(22, 96, 136, 0.95)),
                url('https://images.unsplash.com/photo-1603126857599-f6e157fa2fe6?ixlib=rb-4.0.3&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            text-align: center;
            padding: 6rem 2rem;
            border-radius: var(--radius);
            margin: 4rem 0;
            box-shadow: var(--shadow-lg);
        }
        
        .test-section h2 {
            font-size: 3rem;
            margin-bottom: 2rem;
            font-weight: 800;
        }
        
        .test-section p {
            font-size: 1.3rem;
            max-width: 700px;
            margin: 0 auto 3rem;
            opacity: 0.95;
            line-height: 1.7;
        }
        
        /* Progress Dashboard */
        .dashboard {
            background-color: white;
            border-radius: var(--radius);
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: var(--shadow);
        }
        
        .progress-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .progress-card {
            background: #f8fbff;
            border-radius: var(--radius);
            padding: 2rem;
            text-align: center;
            border: 1px solid rgba(74, 111, 165, 0.1);
        }
        
        .progress-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            color: var(--secondary);
            font-weight: 600;
        }
        
        .progress-value {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .progress-bar {
            height: 10px;
            background: #e9ecef;
            border-radius: 5px;
            overflow: hidden;
            margin: 1rem 0;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--gradient);
            border-radius: 5px;
            transition: width 1s ease-in-out;
        }
        
        .recommendations {
            background: #f8fbff;
            border-radius: var(--radius);
            padding: 2rem;
            margin-top: 2rem;
            border-left: 4px solid var(--accent);
        }
        
        .recommendations h3 {
            color: var(--secondary);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }
        
        .recommendations ul {
            list-style-type: none;
        }
        
        .recommendations li {
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .recommendations li:last-child {
            border-bottom: none;
        }
        
        .recommendations i {
            color: var(--accent);
        }
        
        /* Exercise Generator */
        .exercise-generator {
            background-color: white;
            border-radius: var(--radius);
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: var(--shadow);
        }
        
        .generator-controls {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .control-group {
            flex: 1;
            min-width: 200px;
        }
        
        .generated-exercise {
            background: #f8fbff;
            border-radius: var(--radius);
            padding: 2.5rem;
            margin-top: 2rem;
            border: 1px solid rgba(74, 111, 165, 0.1);
        }
        
        .exercise-question {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            font-weight: 600;
            color: var(--secondary);
        }
        
        .exercise-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .exercise-option {
            padding: 1.2rem;
            background: white;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid #e9ecef;
            text-align: center;
        }
        
        .exercise-option:hover {
            border-color: var(--accent);
            transform: translateY(-3px);
        }
        
        .exercise-feedback {
            padding: 1.5rem;
            border-radius: var(--radius);
            margin-top: 1.5rem;
            display: none;
        }
        
        .exercise-feedback.correct {
            background: rgba(40, 167, 69, 0.1);
            border: 1px solid rgba(40, 167, 69, 0.3);
            color: var(--success);
        }
        
        .exercise-feedback.incorrect {
            background: rgba(220, 53, 69, 0.1);
            border: 1px solid rgba(220, 53, 69, 0.3);
            color: var(--danger);
        }
        
        /* Enhanced Test Section */
        .enhanced-test {
            background-color: white;
            border-radius: var(--radius);
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: var(--shadow);
        }
        
        .test-progress {
            display: flex;
            justify-content: space-between;
            margin-bottom: 2rem;
            align-items: center;
        }
        
        .test-stats {
            display: flex;
            gap: 2rem;
        }
        
        .test-stat {
            text-align: center;
        }
        
        .test-stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary);
        }
        
        .test-stat-label {
            font-size: 0.9rem;
            color: #666;
        }
        
        .test-navigation {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            justify-content: space-between;
        }
        
        /* Login Prompt */
        .login-prompt {
            background: #f8fbff;
            border-radius: var(--radius);
            padding: 3rem;
            text-align: center;
            margin: 2rem 0;
            border: 2px dashed var(--accent);
        }
        
        .login-prompt h3 {
            color: var(--secondary);
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }
        
        .login-prompt p {
            color: #666;
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }
        
        /* Test Results Section */
        .test-results {
            background-color: white;
            border-radius: var(--radius);
            padding: 3rem;
            margin: 2rem 0;
            box-shadow: var(--shadow);
            display: none;
        }
        
        .results-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .results-score {
            font-size: 3rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .results-message {
            font-size: 1.3rem;
            color: #666;
            margin-bottom: 2rem;
        }
        
        .weak-areas {
            background: #f8fbff;
            border-radius: var(--radius);
            padding: 2rem;
            margin-top: 2rem;
        }
        
        .weak-areas h3 {
            color: var(--secondary);
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }
        
        .area-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        
        .area-item {
            background: white;
            border-radius: var(--radius);
            padding: 1.5rem;
            border-left: 4px solid var(--accent);
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        
        .area-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--secondary);
        }
        
        .area-score {
            color: #666;
            font-size: 0.9rem;
        }
        
        /* Chatbot Styles */
        .chatbot-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 1000;
        }
        
        .chatbot-toggle {
            width: 70px;
            height: 70px;
            background: var(--gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            transition: var(--transition);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 10px 25px rgba(74, 111, 165, 0.4); }
            50% { box-shadow: 0 10px 30px rgba(74, 111, 165, 0.7); }
            100% { box-shadow: 0 10px 25px rgba(74, 111, 165, 0.4); }
        }
        
        .chatbot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
        }
        
        .chatbot-window {
            position: absolute;
            bottom: 90px;
            right: 0;
            width: 380px;
            height: 550px;
            background: white;
            border-radius: var(--radius);
            box-shadow: var(--shadow-lg);
            display: none;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.1);
        }
        
        .chatbot-header {
            background: var(--gradient);
            color: white;
            padding: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .chatbot-title {
            display: flex;
            align-items: center;
            gap: 0.8rem;
            font-weight: 700;
            font-size: 1.1rem;
        }
        
        .chatbot-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.3rem;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .chatbot-close:hover {
            transform: rotate(90deg);
        }
        
        .chatbot-messages {
            flex: 1;
            padding: 1.5rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 1.2rem;
            background: #f8fbff;
        }
        
        .message {
            max-width: 85%;
            padding: 1rem 1.2rem;
            border-radius: 18px;
            line-height: 1.5;
            animation: messageAppear 0.3s ease-out;
        }
        
        @keyframes messageAppear {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .user-message {
            align-self: flex-end;
            background: var(--gradient);
            color: white;
            border-bottom-right-radius: 5px;
        }
        
        .bot-message {
            align-self: flex-start;
            background: white;
            color: var(--dark);
            border-bottom-left-radius: 5px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }
        
        .chatbot-input {
            display: flex;
            padding: 1.2rem;
            border-top: 1px solid #eee;
            gap: 0.8rem;
            background: white;
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 1rem 1.2rem;
            border: 1px solid #ddd;
            border-radius: 25px;
            outline: none;
            font-size: 1rem;
            transition: var(--transition);
        }
        
        .chatbot-input input:focus {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(76, 181, 174, 0.2);
        }
        
        .chatbot-input button {
            background: var(--gradient);
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }
        
        .chatbot-input button:hover {
            background: var(--gradient-accent);
            transform: scale(1.05);
        }
        
        .quick-questions {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin-top: 1.2rem;
        }
        
        .quick-question {
            background: rgba(74, 111, 165, 0.1);
            border: none;
            padding: 0.7rem 1.2rem;
            border-radius: 20px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: var(--transition);
            color: var(--primary);
            font-weight: 500;
        }
        
        .quick-question:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
        }
        
        /* Footer */
        footer {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 5rem 2rem 2rem;
        }
        
        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 3rem;
        }
        
        .footer-section h3 {
            margin-bottom: 1.8rem;
            color: var(--accent);
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section ul li {
            margin-bottom: 1rem;
        }
        
        .footer-section a {
            color: #ddd;
            text-decoration: none;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .footer-section a:hover {
            color: var(--accent);
            transform: translateX(5px);
        }
        
        .social-links {
            display: flex;
            gap: 1rem;
            margin-top: 1.8rem;
        }
        
        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 45px;
            height: 45px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            transition: var(--transition);
        }
        
        .social-links a:hover {
            background: var(--accent);
            transform: translateY(-5px);
        }
        
        .copyright {
            text-align: center;
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
            color: #aaa;
        }
        
        /* Responsive Design */
        @media (max-width: 1024px) {
            .hero h1 {
                font-size: 3.2rem;
            }
            
            .section-title {
                font-size: 2.5rem;
            }
        }
        
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .hero {
                padding: 7rem 2rem;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.2rem;
            }
            
            .section-title {
                font-size: 2.2rem;
            }
            
            .demo-container {
                flex-direction: column;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
            
            .testimonial-grid {
                grid-template-columns: 1fr;
            }
            
            .chatbot-window {
                width: 320px;
                height: 500px;
            }
            
            .progress-container {
                grid-template-columns: 1fr;
            }
            
            .generator-controls {
                flex-direction: column;
            }
            
            .test-stats {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .area-list {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 480px) {
            .hero h1 {
                font-size: 2rem;
            }
            
            .section-title {
                font-size: 1.8rem;
            }
            
            .btn-large {
                padding: 1.2rem 2rem;
                font-size: 1.1rem;
            }
            
            .chatbot-window {
                width: 280px;
                right: -20px;
            }
            
            .modal-content {
                padding: 2rem 1.5rem;
            }
            
            .dashboard, .exercise-generator, .enhanced-test, .test-results {
                padding: 2rem 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header id="mainHeader">
        <nav>
            <div class="logo">Chem<span>AI</span></div>
            <ul class="nav-links">
                <li><a href="#despre">Despre</a></li>
                <li><a href="#functionalitati">Funcționalități</a></li>
                <li><a href="#progres" class="protected-section">Progres</a></li>
                <li><a href="#exercitii" class="protected-section">Exerciții</a></li>
                <li><a href="#test-initial" class="protected-section">Test</a></li>
                <li><a href="#testimoniale">Păreri</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            
            <div class="auth-buttons" id="authButtons">
                <button class="auth-btn login-btn" id="loginBtn">Autentificare</button>
                <button class="auth-btn signup" id="signupBtn">Înregistrare</button>
            </div>
            
            <div class="user-info" id="userInfo" style="display: none;">
                <div class="user-avatar" id="userAvatar">U</div>
                <span id="userName">Utilizator</span>
                <button class="auth-btn" id="logoutBtn">Deconectare</button>
            </div>
        </nav>
    </header>

    <section class="hero">
        <div class="hero-content">
            <h1>Învață Chimia cu Ajutorul Inteligenței Artificiale</h1>
            <p>Platforma perfectă pentru elevi care vor să înțeleagă chimia mai ușor și mai rapid.</p>
            <button class="btn btn-large" id="heroSignupBtn">
                <i class="fas fa-rocket"></i>
                Înregistrează-te acum gratuit
            </button>
        </div>
    </section>

    <section id="despre">
        <h2 class="section-title">Despre ChemAI</h2>
        <p class="section-subtitle">
            ChemAI este o aplicație de învățare personalizată la chimie, construită pe tehnologii de inteligență artificială. 
            Sistemul analizează progresul tău și se adaptează pentru a-ți oferi explicații, exerciții și feedback perfect potrivite nevoilor tale.
        </p>
        
        <div class="features">
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-brain"></i></div>
                <h3>Diagnostic Inteligent</h3>
                <p>Testul inițial identifică punctele tale slabe și creează un plan de învățare personalizat.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-book-open"></i></div>
                <h3>Explicații Personalizate</h3>
                <p>Explicații adaptate la nivelul tău, de la începător la avansat, cu analogii și exemple concrete.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon"><i class="fas fa-vial"></i></div>
                <h3>Simulări Vizuale</h3>
                <p>Modele 3D ale moleculelor și animații ale reacțiilor chimice pentru o înțelegere mai profundă.</p>
            </div>
        </div>
    </section>

    <section id="functionalitati">
        <h2 class="section-title">Funcționalități Cheie</h2>
        
        <div class="features">
            <div class="feature-card">
                <h3>Test Inițial + Diagnostic</h3>
                <p>La început, completezi un test scurt. AI-ul identifică punctele slabe și creează un plan de învățare personalizat.</p>
            </div>
            <div class="feature-card">
                <h3>Explicații Personalizate</h3>
                <p>AI-ul adaptează explicațiile după nivelul tău, de la analogii simple pentru începători până la mecanisme complexe pentru avansați.</p>
            </div>
            <div class="feature-card">
                <h3>Generare de Exerciții</h3>
                <p>Sistemul creează exerciții personalizate bazate pe dificultățile tale, cu nivel de dificultate progresiv.</p>
            </div>
            <div class="feature-card">
                <h3>Feedback Instant</h3>
                <p>Nu doar indică răspunsul corect, ci explică unde ai greșit și de ce, oferind metode de corectare.</p>
            </div>
            <div class="feature-card">
                <h3>Simulări Vizuale</h3>
                <p>Modele 3D ale moleculelor, animații ale reacțiilor chimice și grafice pentru procese complexe.</p>
            </div>
            <div class="feature-card">
                <h3>Teste Adaptative</h3>
                <p>Testele se ajustează automat în funcție de răspunsurile tale, devenind mai dificile sau mai ușoare.</p>
            </div>
        </div>
    </section>

    <!-- Secțiunea pentru Progres (ascunsă pentru nelogati) -->
    <section id="progres" class="protected-content" style="display: none;">
        <h2 class="section-title">Progresul Tău</h2>
        <p class="section-subtitle">Urmărește-ți evoluția în învățarea chimiei și primește recomandări personalizate</p>
        
        <div class="dashboard">
            <div class="progress-container">
                <div class="progress-card">
                    <div class="progress-title">Nivel Curent</div>
                    <div class="progress-value" id="currentLevel">Începător</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="levelProgress" style="width: 0%"></div>
                    </div>
                    <div>Progres către nivelul intermediar: <span id="levelProgressText">0%</span></div>
                </div>
                
                <div class="progress-card">
                    <div class="progress-title">Exerciții Finalizate</div>
                    <div class="progress-value" id="exercisesCompleted">0/50</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="exercisesProgress" style="width: 0%"></div>
                    </div>
                    <div><span id="exercisesProgressText">0%</span> din exercițiile recomandate</div>
                </div>
                
                <div class="progress-card">
                    <div class="progress-title">Scor Mediu</div>
                    <div class="progress-value" id="averageScore">0%</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="scoreProgress" style="width: 0%"></div>
                    </div>
                    <div>Performanță: <span id="performanceText">Începătoare</span></div>
                </div>
                
                <div class="progress-card">
                    <div class="progress-title">Zile Consecutive</div>
                    <div class="progress-value" id="streakDays">0</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="streakProgress" style="width: 0%"></div>
                    </div>
                    <div>Începe-ți azi seria!</div>
                </div>
            </div>
            
            <div class="recommendations">
                <h3><i class="fas fa-lightbulb"></i> Recomandări Personalizate</h3>
                <ul id="recommendationsList">
                    <li><i class="fas fa-check-circle"></i> Completează testul inițial pentru a-ți evalua nivelul actual</li>
                    <li><i class="fas fa-check-circle"></i> Începe cu exercițiile de bază despre atomi și structura atomică</li>
                    <li><i class="fas fa-check-circle"></i> Folosește chatbot-ul pentru a pune întrebări despre concepte neclare</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Secțiunea pentru Generator de Exerciții (ascunsă pentru nelogati) -->
    <section id="exercitii" class="protected-content" style="display: none;">
        <h2 class="section-title">Generator de Exerciții</h2>
        <p class="section-subtitle">Generează exerciții personalizate bazate pe nivelul tău și ariile care necesită îmbunătățire</p>
        
        <div class="exercise-generator">
            <div class="generator-controls">
                <div class="control-group">
                    <label for="topicSelect">Alege subiectul:</label>
                    <select id="topicSelect" class="form-control">
                        <option value="all">Toate subiectele</option>
                        <option value="atomi">Atomi și Structura Atomică</option>
                        <option value="tabel">Tabelul Periodic</option>
                        <option value="legaturi">Legături Chimice</option>
                        <option value="ecuatii">Ecuații Chimice</option>
                        <option value="reactii">Reacții Chimice</option>
                        <option value="acizi">Acizi și Baze</option>
                        <option value="redox">Reacții Redox</option>
                        <option value="organica">Chimie Organică</option>
                        <option value="soluții">Soluții și Concentrații</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="difficultySelect">Nivel de dificultate:</label>
                    <select id="difficultySelect" class="form-control">
                        <option value="beginner">Începător</option>
                        <option value="intermediate" selected>Intermediar</option>
                        <option value="advanced">Avansat</option>
                    </select>
                </div>
                
                <div class="control-group">
                    <label for="exerciseType">Tip de exercițiu:</label>
                    <select id="exerciseType" class="form-control">
                        <option value="multiple">Grila cu răspunsuri multiple</option>
                        <option value="truefalse">Adevărat/Fals</option>
                        <option value="matching">Potrivire</option>
                        <option value="calculation">Calcul</option>
                    </select>
                </div>
            </div>
            
            <button class="btn" id="generateExerciseBtn">
                <i class="fas fa-sync-alt"></i>
                Generează Exercițiu Nou
            </button>
            
            <div class="generated-exercise" id="generatedExercise" style="display: none;">
                <div class="exercise-question" id="exerciseQuestion">Care dintre următoarele este un acid tare?</div>
                
                <div class="exercise-options" id="exerciseOptions">
                    <div class="exercise-option" data-correct="false">NaOH</div>
                    <div class="exercise-option" data-correct="true">HCl</div>
                    <div class="exercise-option" data-correct="false">NH₃</div>
                    <div class="exercise-option" data-correct="false">CH₃COOH</div>
                </div>
                
                <button class="btn" id="checkAnswerBtn" style="background: var(--accent);">
                    <i class="fas fa-check"></i>
                    Verifică Răspunsul
                </button>
                
                <div class="exercise-feedback" id="exerciseFeedback"></div>
            </div>
        </div>
    </section>

    <section id="demo">
        <h2 class="section-title">Demo Interactiv</h2>
        
        <div class="demo">
            <div class="demo-container">
                <div class="demo-content">
                    <h3>Exemplu: Diferența dintre Alcooli și Eteri</h3>
                    <p>AI-ul explică diferențele între compuși cu structuri similare:</p>
                    
                    <div class="molecule">
                        <h4>Etanol (Alcool)</h4>
                        <div class="molecule-structure">CH₃-CH₂-OH</div>
                        <p>Conține gruparea hidroxil (-OH) legată de un carbon saturat.</p>
                    </div>
                    
                    <div class="molecule">
                        <h4>Etoxietan (Eter)</h4>
                        <div class="molecule-structure">CH₃-CH₂-O-CH₂-CH₃</div>
                        <p>Conține un atom de oxigen legat de doi radicali de carbon.</p>
                    </div>
                    
                    <p><strong>Explicația AI:</strong> "Diferența principală este gruparea funcțională. Alcoolii au gruparea -OH, iar eterii au un atom de oxigen legat de doi radicali de carbon."</p>
                </div>
                
                <div class="demo-visual">
                    <h4>Exercițiu Personalizat</h4>
                    <p>Identifică compusul care este un alcool:</p>
                    
                    <div id="quiz">
                        <div class="quiz-option" onclick="checkAnswer(this, 'A')">A) CH₃-O-CH₃</div>
                        <div class="quiz-option" onclick="checkAnswer(this, 'B')">B) CH₃-CH₂-OH</div>
                        <div class="quiz-option" onclick="checkAnswer(this, 'C')">C) CH₃-CH₂-O-CH₃</div>
                    </div>
                    
                    <div id="feedback" style="margin-top: 1.5rem; padding: 1.5rem; border-radius: var(--radius); display: none;"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Secțiunea pentru Test (ascunsă pentru nelogati) -->
    <section id="test-initial" class="protected-content" style="display: none;">
        <h2 class="section-title">Testul Inițial Îmbunătățit</h2>
        <p class="section-subtitle">Completează testul nostru adaptiv pentru a-ți evalua nivelul și a primi un plan de învățare personalizat</p>
        
        <div class="enhanced-test">
            <div class="test-progress">
                <h3>Test de Evaluare Chimie</h3>
                <div class="test-stats">
                    <div class="test-stat">
                        <div class="test-stat-value" id="currentQuestion">1/10</div>
                        <div class="test-stat-label">Întrebare</div>
                    </div>
                    <div class="test-stat">
                        <div class="test-stat-value" id="correctAnswers">0</div>
                        <div class="test-stat-label">Corecte</div>
                    </div>
                    <div class="test-stat">
                        <div class="test-stat-value" id="testScore">0%</div>
                        <div class="test-stat-label">Scor</div>
                    </div>
                </div>
            </div>
            
            <div class="generated-exercise">
                <div class="exercise-question" id="testQuestion">Care este numărul atomic al elementului Oxigen?</div>
                
                <div class="exercise-options" id="testOptions">
                    <div class="exercise-option" data-correct="false">6</div>
                    <div class="exercise-option" data-correct="false">7</div>
                    <div class="exercise-option" data-correct="true">8</div>
                    <div class="exercise-option" data-correct="false">16</div>
                </div>
                
                <div class="test-navigation">
                    <button class="auth-btn" id="prevQuestionBtn" disabled>
                        <i class="fas fa-arrow-left"></i>
                        Întrebarea Anterioară
                    </button>
                    <button class="btn" id="nextQuestionBtn">
                        Următoarea Întrebare
                        <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Secțiunea pentru rezultatele testului -->
        <div class="test-results" id="testResults">
            <div class="results-header">
                <h3>Rezultatele Testului Tău</h3>
                <div class="results-score" id="finalScore">0%</div>
                <div class="results-message" id="resultsMessage">Completează testul pentru a vedea rezultatele</div>
            </div>
            
            <div class="weak-areas">
                <h3><i class="fas fa-exclamation-triangle"></i> Arii care necesită atenție</h3>
                <p>Pe baza rezultatelor tale, recomandăm să te concentrezi pe următoarele subiecte:</p>
                
                <div class="area-list" id="weakAreasList">
                    <!-- Aici vor fi afișate ariile slabe -->
                </div>
            </div>
            
            <div class="recommendations" style="margin-top: 2rem;">
                <h3><i class="fas fa-lightbulb"></i> Plan de Învățare Personalizat</h3>
                <ul id="learningPlanList">
                    <!-- Aici vor fi afișate recomandările -->
                </ul>
            </div>
            
            <div style="text-align: center; margin-top: 2rem;">
                <button class="btn" id="startExercisesBtn">
                    <i class="fas fa-play-circle"></i>
                    Începe Exercițiile Recomandate
                </button>
            </div>
        </div>
    </section>

    <!-- Secțiunea de prompt pentru logare (afișată doar pentru nelogati) -->
    <section id="login-prompt-section">
        <div class="login-prompt">
            <h3>Conținut Exclusiv pentru Utilizatorii Autentificați</h3>
            <p>Pentru a accesa secțiunile de progres, generatorul de exerciții și testul inițial, te rugăm să te autentifici sau să creezi un cont.</p>
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <button class="btn" id="promptLoginBtn">
                    <i class="fas fa-sign-in-alt"></i>
                    Autentificare
                </button>
                <button class="btn" id="promptSignupBtn" style="background: var(--gradient);">
                    <i class="fas fa-user-plus"></i>
                    Înregistrare
                </button>
            </div>
        </div>
    </section>

    <section id="testimoniale">
        <h2 class="section-title">Ce spun elevii care folosesc ChemAI</h2>
        <p class="section-subtitle">Mii de elevi folosesc deja ChemAI pentru a-și îmbunătăți rezultatele la chimie</p>
        
        <div class="testimonial-grid">
            <div class="testimonial">
                <p>"ChemAI m-a ajutat să înțeleg reacțiile redox care mi se păreau foarte complicate. Explicațiile personalizate și exercițiile adaptate au făcut diferența!"</p>
                <div class="testimonial-author">
                    <img src="https://randomuser.me/api/portraits/women/32.jpg" alt="Student">
                    <div>
                        <strong>Maria Popescu</strong>
                        <p>Elevă, clasa a XI-a</p>
                    </div>
                </div>
            </div>
            
            <div class="testimonial">
                <p>"Am reușit să trec de la nota 6 la 9 la chimie în doar 3 luni de utilizare a ChemAI. Recomand cu căldură tuturor colegilor mei!"</p>
                <div class="testimonial-author">
                    <img src="https://randomuser.me/api/portraits/men/22.jpg" alt="Student">
                    <div>
                        <strong>Andrei Mihai</strong>
                        <p>Elev, clasa a X-a</p>
                    </div>
                </div>
            </div>
            
            <div class="testimonial">
                <p>"În sfârșit am înțeles cum să echilibrez ecuațiile chimice! ChemAI mi-a explicat pas cu pas până am priceput perfect."</p>
                <div class="testimonial-author">
                    <img src="https://randomuser.me/api/portraits/women/65.jpg" alt="Student">
                    <div>
                        <strong>Elena Ionescu</strong>
                        <p>Elevă, clasa a IX-a</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer id="contact">
        <div class="footer-content">
            <div class="footer-section">
                <h3>ChemAI</h3>
                <p>Platforma inteligentă de învățare a chimiei, adaptată nevoilor tale.</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-facebook-f"></i></a>
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin-in"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h3>Link-uri Rapide</h3>
                <ul>
                    <li><a href="#despre"><i class="fas fa-chevron-right"></i> Despre Noi</a></li>
                    <li><a href="#functionalitati"><i class="fas fa-chevron-right"></i> Funcționalități</a></li>
                    <li><a href="#progres"><i class="fas fa-chevron-right"></i> Progres</a></li>
                    <li><a href="#exercitii"><i class="fas fa-chevron-right"></i> Exerciții</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Contact</h3>
                <ul>
                    <li><a href="mailto:contact@chemai.ro"><i class="fas fa-envelope"></i> contact@chemai.ro</a></li>
                    <li><a href="tel:+40712345678"><i class="fas fa-phone"></i> +40 712 345 678</a></li>
                    <li><a href="#"><i class="fas fa-map-marker-alt"></i> București, România</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Înscrie-te la newsletter</h3>
                <form id="newsletter-form">
                    <div class="form-group">
                        <input type="email" class="form-control" placeholder="Email-ul tău" required>
                    </div>
                    <button type="submit" class="modal-btn">
                        <i class="fas fa-paper-plane"></i>
                        Abonează-te
                    </button>
                </form>
            </div>
        </div>
        
        <div class="copyright">
            <p>&copy; 2023 ChemAI. Toate drepturile rezervate.</p>
        </div>
    </footer>

    <!-- Chatbot Container -->
    <div class="chatbot-container">
        <div class="chatbot-toggle" id="chatbotToggle">
            <i class="fas fa-robot"></i>
        </div>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <div class="chatbot-title">
                    <i class="fas fa-robot"></i>
                    Asistent ChemAI
                </div>
                <button class="chatbot-close" id="chatbotClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message bot-message">
                    Salut! Sunt asistentul tău virtual pentru chimie. Cu ce te pot ajuta astăzi?
                </div>
                <div class="quick-questions">
                    <button class="quick-question" data-question="Ce este un atom?">Ce este un atom?</button>
                    <button class="quick-question" data-question="Cum se echilibrează ecuațiile chimice?">Cum se echilibrează ecuațiile?</button>
                    <button class="quick-question" data-question="Care este diferența dintre acid și bază?">Acid vs Bază</button>
                    <button class="quick-question" data-question="Ce sunt reacțiile redox?">Reacții redox</button>
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatbotInput" placeholder="Scrie întrebarea ta...">
                <button id="chatbotSend">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Modal pentru autentificare -->
    <div class="auth-modal" id="loginModal">
        <div class="modal-content">
            <button class="close-modal" id="closeLoginModal">&times;</button>
            <h2 class="modal-title">Autentificare</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" class="form-control" placeholder="Introdu adresa de email" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Parolă</label>
                    <input type="password" id="loginPassword" class="form-control" placeholder="Introdu parola" required>
                </div>
                <button type="submit" class="modal-btn">
                    <i class="fas fa-sign-in-alt"></i>
                    Autentificare
                </button>
                <div class="form-footer">
                    <p>Nu ai cont? <a href="#" id="showSignupFromLogin">Înregistrează-te</a></p>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal pentru înregistrare -->
    <div class="auth-modal" id="signupModal">
        <div class="modal-content">
            <button class="close-modal" id="closeSignupModal">&times;</button>
            <h2 class="modal-title">Înregistrare</h2>
            <form id="signupForm">
                <div class="form-group">
                    <label for="signupName">Nume complet</label>
                    <input type="text" id="signupName" class="form-control" placeholder="Introdu numele tău complet" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" class="form-control" placeholder="Introdu adresa de email" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Parolă</label>
                    <input type="password" id="signupPassword" class="form-control" placeholder="Creează o parolă" required>
                </div>
                <div class="form-group">
                    <label for="signupClass">Clasă</label>
                    <select id="signupClass" class="form-control" required>
                        <option value="">Alege clasa</option>
                        <option value="9">Clasa a IX-a</option>
                        <option value="10">Clasa a X-a</option>
                        <option value="11">Clasa a XI-a</option>
                        <option value="12">Clasa a XII-a</option>
                    </select>
                </div>
                <button type="submit" class="modal-btn">
                    <i class="fas fa-user-plus"></i>
                    Înregistrare
                </button>
                <div class="form-footer">
                    <p>Ai deja cont? <a href="#" id="showLoginFromSignup">Autentifică-te</a></p>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Elemente DOM
        const authButtons = document.getElementById('authButtons');
        const userInfo = document.getElementById('userInfo');
        const userAvatar = document.getElementById('userAvatar');
        const userName = document.getElementById('userName');
        const loginBtn = document.getElementById('loginBtn');
        const signupBtn = document.getElementById('signupBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const heroSignupBtn = document.getElementById('heroSignupBtn');
        const loginModal = document.getElementById('loginModal');
        const signupModal = document.getElementById('signupModal');
        const closeLoginModal = document.getElementById('closeLoginModal');
        const closeSignupModal = document.getElementById('closeSignupModal');
        const showSignupFromLogin = document.getElementById('showSignupFromLogin');
        const showLoginFromSignup = document.getElementById('showLoginFromSignup');
        const loginForm = document.getElementById('loginForm');
        const signupForm = document.getElementById('signupForm');
        const newsletterForm = document.getElementById('newsletter-form');
        const mainHeader = document.getElementById('mainHeader');
        const promptLoginBtn = document.getElementById('promptLoginBtn');
        const promptSignupBtn = document.getElementById('promptSignupBtn');
        const loginPromptSection = document.getElementById('login-prompt-section');
        const testResults = document.getElementById('testResults');
        const finalScore = document.getElementById('finalScore');
        const resultsMessage = document.getElementById('resultsMessage');
        const weakAreasList = document.getElementById('weakAreasList');
        const learningPlanList = document.getElementById('learningPlanList');
        const startExercisesBtn = document.getElementById('startExercisesBtn');

        // Elemente Chatbot
        const chatbotToggle = document.getElementById('chatbotToggle');
        const chatbotWindow = document.getElementById('chatbotWindow');
        const chatbotClose = document.getElementById('chatbotClose');
        const chatbotMessages = document.getElementById('chatbotMessages');
        const chatbotInput = document.getElementById('chatbotInput');
        const chatbotSend = document.getElementById('chatbotSend');
        const quickQuestions = document.querySelectorAll('.quick-question');

        // Elemente pentru noile funcționalități
        const generateExerciseBtn = document.getElementById('generateExerciseBtn');
        const generatedExercise = document.getElementById('generatedExercise');
        const exerciseQuestion = document.getElementById('exerciseQuestion');
        const exerciseOptions = document.getElementById('exerciseOptions');
        const checkAnswerBtn = document.getElementById('checkAnswerBtn');
        const exerciseFeedback = document.getElementById('exerciseFeedback');
        const topicSelect = document.getElementById('topicSelect');
        const difficultySelect = document.getElementById('difficultySelect');
        const exerciseType = document.getElementById('exerciseType');
        
        // Elemente pentru testul îmbunătățit
        const currentQuestion = document.getElementById('currentQuestion');
        const correctAnswers = document.getElementById('correctAnswers');
        const testScore = document.getElementById('testScore');
        const testQuestion = document.getElementById('testQuestion');
        const testOptions = document.getElementById('testOptions');
        const prevQuestionBtn = document.getElementById('prevQuestionBtn');
        const nextQuestionBtn = document.getElementById('nextQuestionBtn');

        // Baza de date pentru exerciții (dublată)
        const exerciseDatabase = {
            atomi: [
                {
                    question: "Care este numărul atomic al elementului Oxigen?",
                    options: ["6", "7", "8", "16"],
                    correct: 2,
                    explanation: "Numărul atomic al Oxigenului este 8, ceea ce înseamnă că are 8 protoni în nucleu."
                },
                {
                    question: "Câți neutroni are atomul de Carbon-14?",
                    options: ["6", "7", "8", "14"],
                    correct: 2,
                    explanation: "Carbon-14 are 6 protoni și 8 neutroni (14 - 6 = 8)."
                },
                {
                    question: "Care particulă subatomică are sarcina negativă?",
                    options: ["Protonul", "Neutronul", "Electronul", "Nucleul"],
                    correct: 2,
                    explanation: "Electronul are sarcina negativă, în timp ce protonul are sarcina pozitivă și neutronul este neutru."
                },
                {
                    question: "Ce determină identitatea unui element chimic?",
                    options: ["Numărul de neutroni", "Numărul de electroni", "Numărul de protoni", "Masa atomică"],
                    correct: 2,
                    explanation: "Numărul de protoni (numărul atomic) determină identitatea unui element chimic."
                }
            ],
            tabel: [
                {
                    question: "Care element are simbolul 'Au'?",
                    options: ["Argint", "Aur", "Aluminiu", "Argon"],
                    correct: 1,
                    explanation: "'Au' este simbolul pentru Aur (din latină 'Aurum')."
                },
                {
                    question: "În ce grupă se află gazele nobile?",
                    options: ["Grupa 1", "Grupa 2", "Grupa 17", "Grupa 18"],
                    correct: 3,
                    explanation: "Gazele nobile se află în grupa 18 a tabelului periodic."
                },
                {
                    question: "Care dintre următoarele este un metal alcalin?",
                    options: ["Calciu", "Sodiu", "Aluminiu", "Fier"],
                    correct: 1,
                    explanation: "Sodiul este un metal alcalin și se află în grupa 1 a tabelului periodic."
                },
                {
                    question: "Care element are cel mai mare număr atomic?",
                    options: ["Uraniu", "Aur", "Plumb", "Oxigen"],
                    correct: 0,
                    explanation: "Uraniul are numărul atomic 92, cel mai mare dintre opțiunile prezentate."
                }
            ],
            legaturi: [
                {
                    question: "Care dintre următoarele este o legătură ionică?",
                    options: ["H₂O", "NaCl", "CH₄", "O₂"],
                    correct: 1,
                    explanation: "NaCl (clorura de sodiu) este o legătură ionică între un metal (Na) și un nemetal (Cl)."
                },
                {
                    question: "Ce tip de legătură se formează prin împărțirea perechilor de electroni?",
                    options: ["Legătură ionică", "Legătură covalentă", "Legătură metalică", "Legătură de hidrogen"],
                    correct: 1,
                    explanation: "Legăturile covalente se formează prin împărțirea perechilor de electroni între atomi."
                },
                {
                    question: "Care dintre următoarele molecule are legături covalente polare?",
                    options: ["H₂", "O₂", "HCl", "CH₄"],
                    correct: 2,
                    explanation: "HCl are legături covalente polare datorită diferenței de electronegativitate dintre H și Cl."
                },
                {
                    question: "Ce tip de legătură este caracteristică pentru metale?",
                    options: ["Legătură ionică", "Legătură covalentă", "Legătură metalică", "Legătură de hidrogen"],
                    correct: 2,
                    explanation: "Metalele formează legături metalice, unde electronii sunt delocalizați în întreaga rețea."
                }
            ],
            ecuatii: [
                {
                    question: "Care este coeficientul corect pentru O₂ în ecuația echilibrată: CH₄ + O₂ → CO₂ + H₂O?",
                    options: ["1", "2", "3", "4"],
                    correct: 1,
                    explanation: "Ecuația echilibrată este: CH₄ + 2O₂ → CO₂ + 2H₂O, deci coeficientul pentru O₂ este 2."
                },
                {
                    question: "Câți moli de H₂O se formează din 2 moli de H₂ conform ecuației: 2H₂ + O₂ → 2H₂O?",
                    options: ["1", "2", "3", "4"],
                    correct: 1,
                    explanation: "Conform ecuației, 2 moli de H₂ produc 2 moli de H₂O."
                },
                {
                    question: "Care este produsul reacției dintre acid clorhidric și hidroxid de sodiu?",
                    options: ["NaCl și H₂O", "NaCl și H₂", "Na și Cl₂", "NaOH și HCl"],
                    correct: 0,
                    explanation: "HCl + NaOH → NaCl + H₂O - aceasta este o reacție de neutralizare."
                },
                {
                    question: "Cum se echilibrează ecuația: Fe + O₂ → Fe₂O₃?",
                    options: ["2Fe + 3O₂ → Fe₂O₃", "4Fe + 3O₂ → 2Fe₂O₃", "Fe + O₂ → Fe₂O₃", "3Fe + 2O₂ → Fe₂O₃"],
                    correct: 1,
                    explanation: "Ecuația corect echilibrată este: 4Fe + 3O₂ → 2Fe₂O₃"
                }
            ],
            reactii: [
                {
                    question: "Ce tip de reacție este: CaO + H₂O → Ca(OH)₂?",
                    options: ["Reacție de combinare", "Reacție de descompunere", "Reacție de substituție", "Reacție de neutralizare"],
                    correct: 0,
                    explanation: "Aceasta este o reacție de combinare, unde două substanțe se unesc pentru a forma o singură substanță nouă."
                },
                {
                    question: "Care dintre următoarele este o reacție de descompunere?",
                    options: ["2H₂ + O₂ → 2H₂O", "CaCO₃ → CaO + CO₂", "NaOH + HCl → NaCl + H₂O", "Zn + 2HCl → ZnCl₂ + H₂"],
                    correct: 1,
                    explanation: "CaCO₃ → CaO + CO₂ este o reacție de descompunere, unde o substanță se descompune în două sau mai multe substanțe."
                },
                {
                    question: "Ce tip de reacție este: AgNO₃ + NaCl → AgCl + NaNO₃?",
                    options: ["Reacție de combinare", "Reacție de descompunere", "Reacție de dublă înlocuire", "Reacție de oxidare-reducere"],
                    correct: 2,
                    explanation: "Aceasta este o reacție de dublă înlocuire (precipitare), unde ioni pozitivi și negativi schimbă parteneri."
                },
                {
                    question: "Care dintre următoarele necesită căldură pentru a avea loc?",
                    options: ["Reacție exotermă", "Reacție endotermă", "Reacție catalitică", "Reacție spontană"],
                    correct: 1,
                    explanation: "Reacțiile endoterme absorb căldură din mediul înconjurător."
                }
            ],
            acizi: [
                {
                    question: "Care dintre următoarele este un acid tare?",
                    options: ["NaOH", "HCl", "NH₃", "CH₃COOH"],
                    correct: 1,
                    explanation: "HCl (acidul clorhidric) este un acid tare care se disociază complet în apă."
                },
                {
                    question: "Care este pH-ul unei soluții neutre?",
                    options: ["0", "7", "14", "10"],
                    correct: 1,
                    explanation: "pH-ul unei soluții neutre este 7, la 25°C."
                },
                {
                    question: "Ce indicator schimbă culoarea în roz în mediu acid?",
                    options: ["Fenolftaleina", "Turnesol", "Vermeil de metil", "Albastru de bromtimol"],
                    correct: 2,
                    explanation: "Vermeilul de metil este roz în mediu acid și galben în mediu bazic."
                },
                {
                    question: "Care dintre următoarele este o bază tare?",
                    options: ["CH₃COOH", "HCl", "NaOH", "NH₃"],
                    correct: 2,
                    explanation: "NaOH (hidroxid de sodiu) este o bază tare care se disociază complet în apă."
                }
            ],
            redox: [
                {
                    question: "În reacția Zn + Cu²⁺ → Zn²⁺ + Cu, care element se reduce?",
                    options: ["Zn", "Cu", "Ambele", "Niciunul"],
                    correct: 1,
                    explanation: "Cu²⁺ se reduce la Cu, primind 2 electroni de la Zn care se oxidează."
                },
                {
                    question: "Care este agentul reducător în reacția: 2Na + Cl₂ → 2NaCl?",
                    options: ["Na", "Cl₂", "NaCl", "Ambele"],
                    correct: 0,
                    explanation: "Sodiul (Na) este agentul reducător deoarece se oxidează, cedând electroni."
                },
                {
                    question: "Ce înseamnă oxidarea?",
                    options: ["Câștig de electroni", "Pierdere de electroni", "Câștig de protoni", "Pierdere de neutroni"],
                    correct: 1,
                    explanation: "Oxidarea înseamnă pierdere de electroni, iar reducerea înseamnă câștig de electroni."
                },
                {
                    question: "Care dintre următoarele este un exemplu de reacție redox?",
                    options: ["NaCl + AgNO₃ → AgCl + NaNO₃", "HCl + NaOH → NaCl + H₂O", "Zn + 2HCl → ZnCl₂ + H₂", "CaCO₃ → CaO + CO₂"],
                    correct: 2,
                    explanation: "Zn + 2HCl → ZnCl₂ + H₂ este o reacție redox unde Zn se oxidează și H⁺ se reduce."
                }
            ],
            organica: [
                {
                    question: "Care dintre următoarele este o hidrocarbură saturată?",
                    options: ["Etenă", "Etan", "Etină", "Benzen"],
                    correct: 1,
                    explanation: "Etanul (C₂H₆) este o hidrocarbură saturată, având doar legături simple."
                },
                {
                    question: "Ce grupă funcțională au alcoolii?",
                    options: ["-COOH", "-OH", "-CHO", "-NH₂"],
                    correct: 1,
                    explanation: "Alcoolii au grupa funcțională hidroxil (-OH)."
                },
                {
                    question: "Care dintre următoarele este un aldehidă?",
                    options: ["CH₃COOH", "CH₃OH", "CH₃CHO", "CH₃NH₂"],
                    correct: 2,
                    explanation: "CH₃CHO (acetaldehida) este un aldehidă, având grupa funcțională -CHO."
                },
                {
                    question: "Câți atomi de carbon are molecula de benzen?",
                    options: ["4", "5", "6", "7"],
                    correct: 2,
                    explanation: "Benzenul are 6 atomi de carbon aranjați într-un inel hexagonal."
                }
            ],
            solutii: [
                {
                    question: "Ce este o soluție saturată?",
                    options: ["O soluție care conține mai mult dizolvat decât poate dizolva", "O soluție care conține cantitatea maximă de dizolvat", "O soluție care nu conține dizolvat", "O soluție care conține doi dizolvanți"],
                    correct: 1,
                    explanation: "O soluție saturată conține cantitatea maximă de dizolvat care se poate dizolva la o anumită temperatură."
                },
                {
                    question: "Care este unitatea de măsură pentru concentrația molară?",
                    options: ["g/L", "mol/L", "%", "ppm"],
                    correct: 1,
                    explanation: "Concentrația molară se măsoară în moli pe litru (mol/L)."
                },
                {
                    question: "Câți moli de NaCl sunt în 500 mL de soluție 0.2 M?",
                    options: ["0.1", "0.2", "0.5", "1.0"],
                    correct: 0,
                    explanation: "Numărul de moli = concentrația × volumul (în L) = 0.2 mol/L × 0.5 L = 0.1 moli."
                },
                {
                    question: "Ce exprimă pH-ul unei soluții?",
                    options: ["Concentrația de ioni H⁺", "Concentrația de ioni OH⁻", "Conductibilitatea electrică", "Vâscozitatea"],
                    correct: 0,
                    explanation: "pH-ul exprimă concentrația de ioni H⁺ într-o soluție: pH = -log[H⁺]."
                }
            ]
        };

        // Starea testului
        let testState = {
            currentQuestionIndex: 0,
            userAnswers: [],
            questions: [],
            score: 0,
            categoryScores: {}
        };

        // Scroll effect for header
        window.addEventListener('scroll', function() {
            if (window.scrollY > 100) {
                mainHeader.classList.add('scrolled');
            } else {
                mainHeader.classList.remove('scrolled');
            }
        });

        // Verifică dacă utilizatorul este autentificat la încărcarea paginii
        document.addEventListener('DOMContentLoaded', function() {
            const user = JSON.parse(localStorage.getItem('chemAIUser'));
            if (user) {
                showUserInfo(user);
                initializeUserProgress(user);
                showProtectedContent();
            } else {
                hideProtectedContent();
            }
            
            // Inițializează testul
            initializeTest();
        });

        // Funcție pentru afișarea informațiilor utilizatorului
        function showUserInfo(user) {
            authButtons.style.display = 'none';
            userInfo.style.display = 'flex';
            userName.textContent = user.name;
            userAvatar.textContent = user.name.charAt(0).toUpperCase();
        }

        // Funcție pentru afișarea conținutului protejat
        function showProtectedContent() {
            document.querySelectorAll('.protected-content').forEach(section => {
                section.style.display = 'block';
            });
            document.querySelectorAll('.protected-section').forEach(link => {
                link.style.display = 'block';
            });
            loginPromptSection.style.display = 'none';
        }

        // Funcție pentru ascunderea conținutului protejat
        function hideProtectedContent() {
            document.querySelectorAll('.protected-content').forEach(section => {
                section.style.display = 'none';
            });
            loginPromptSection.style.display = 'block';
        }

        // Funcție pentru inițializarea progresului utilizatorului
        function initializeUserProgress(user) {
            // Încarcă progresul din localStorage sau creează unul nou
            let userProgress = JSON.parse(localStorage.getItem('chemAIUserProgress'));
            
            if (!userProgress || userProgress.userId !== user.id) {
                userProgress = {
                    userId: user.id,
                    level: "beginner",
                    levelProgress: 0,
                    exercisesCompleted: 0,
                    totalExercises: 50,
                    averageScore: 0,
                    streakDays: 0,
                    lastActivity: new Date().toISOString(),
                    testCompleted: false,
                    weakAreas: [],
                    recommendations: [
                        "Completează testul inițial pentru a-ți evalua nivelul actual",
                        "Începe cu exercițiile de bază despre atomi și structura atomică",
                        "Folosește chatbot-ul pentru a pune întrebări despre concepte neclare"
                    ]
                };
                localStorage.setItem('chemAIUserProgress', JSON.stringify(userProgress));
            }
            
            // Actualizează UI-ul cu datele de progres
            updateProgressUI(userProgress);
        }

        // Funcție pentru actualizarea UI-ului cu progresul
        function updateProgressUI(progress) {
            document.getElementById('currentLevel').textContent = 
                progress.level === 'beginner' ? 'Începător' : 
                progress.level === 'intermediate' ? 'Intermediar' : 'Avansat';
            
            document.getElementById('levelProgress').style.width = `${progress.levelProgress}%`;
            document.getElementById('levelProgressText').textContent = `${progress.levelProgress}%`;
            
            document.getElementById('exercisesCompleted').textContent = 
                `${progress.exercisesCompleted}/${progress.totalExercises}`;
            const exercisesPercentage = (progress.exercisesCompleted / progress.totalExercises) * 100;
            document.getElementById('exercisesProgress').style.width = `${exercisesPercentage}%`;
            document.getElementById('exercisesProgressText').textContent = `${Math.round(exercisesPercentage)}%`;
            
            document.getElementById('averageScore').textContent = `${progress.averageScore}%`;
            document.getElementById('scoreProgress').style.width = `${progress.averageScore}%`;
            
            let performanceText = "Începătoare";
            if (progress.averageScore >= 70) performanceText = "Bună";
            if (progress.averageScore >= 85) performanceText = "Foarte bună";
            if (progress.averageScore >= 95) performanceText = "Excelentă";
            document.getElementById('performanceText').textContent = performanceText;
            
            document.getElementById('streakDays').textContent = progress.streakDays;
            document.getElementById('streakProgress').style.width = 
                `${Math.min(progress.streakDays * 10, 100)}%`;
            
            // Actualizează recomandările
            const recommendationsList = document.getElementById('recommendationsList');
            recommendationsList.innerHTML = '';
            
            progress.recommendations.forEach(rec => {
                const li = document.createElement('li');
                li.innerHTML = `<i class="fas fa-check-circle"></i> ${rec}`;
                recommendationsList.appendChild(li);
            });
        }

        // Funcție pentru ascunderea informațiilor utilizatorului
        function hideUserInfo() {
            authButtons.style.display = 'flex';
            userInfo.style.display = 'none';
        }

        // Evenimente pentru butoanele de autentificare/înregistrare
        loginBtn.addEventListener('click', function() {
            loginModal.style.display = 'flex';
        });

        signupBtn.addEventListener('click', function() {
            signupModal.style.display = 'flex';
        });

        // Eveniment pentru butonul de înregistrare din hero
        heroSignupBtn.addEventListener('click', function() {
            signupModal.style.display = 'flex';
        });

        // Evenimente pentru butoanele din promptul de logare
        promptLoginBtn.addEventListener('click', function() {
            loginModal.style.display = 'flex';
        });

        promptSignupBtn.addEventListener('click', function() {
            signupModal.style.display = 'flex';
        });

        // Evenimente pentru închiderea modalelor
        closeLoginModal.addEventListener('click', function() {
            loginModal.style.display = 'none';
            loginForm.reset();
        });

        closeSignupModal.addEventListener('click', function() {
            signupModal.style.display = 'none';
            signupForm.reset();
        });

        // Evenimente pentru comutarea între modale
        showSignupFromLogin.addEventListener('click', function(e) {
            e.preventDefault();
            loginModal.style.display = 'none';
            signupModal.style.display = 'flex';
            loginForm.reset();
        });

        showLoginFromSignup.addEventListener('click', function(e) {
            e.preventDefault();
            signupModal.style.display = 'none';
            loginModal.style.display = 'flex';
            signupForm.reset();
        });

        // Eveniment pentru deconectare
        logoutBtn.addEventListener('click', function() {
            localStorage.removeItem('chemAIUser');
            hideUserInfo();
            hideProtectedContent();
            alert('Te-ai deconectat cu succes!');
        });

        // Eveniment pentru formularul de autentificare
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            
            // Verificare simplă (în producție, ar fi o cerere către server)
            const users = JSON.parse(localStorage.getItem('chemAIUsers')) || [];
            const user = users.find(u => u.email === email && u.password === password);
            
            if (user) {
                localStorage.setItem('chemAIUser', JSON.stringify(user));
                showUserInfo(user);
                initializeUserProgress(user);
                showProtectedContent();
                loginModal.style.display = 'none';
                loginForm.reset();
                alert('Autentificare reușită! Bine ai revenit, ' + user.name + '!');
            } else {
                alert('Email sau parolă incorectă! Încearcă din nou sau înregistrează-te.');
            }
        });

        // Eveniment pentru formularul de înregistrare
        signupForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('signupName').value;
            const email = document.getElementById('signupEmail').value;
            const password = document.getElementById('signupPassword').value;
            const userClass = document.getElementById('signupClass').value;
            
            // Verificare dacă email-ul există deja
            const users = JSON.parse(localStorage.getItem('chemAIUsers')) || [];
            const existingUser = users.find(u => u.email === email);
            
            if (existingUser) {
                alert('Acest email este deja înregistrat! Te rugăm să te autentifici.');
                return;
            }
            
            // Creare utilizator nou
            const newUser = {
                id: Date.now(),
                name: name,
                email: email,
                password: password,
                class: userClass,
                joinDate: new Date().toISOString()
            };
            
            // Salvare în localStorage
            users.push(newUser);
            localStorage.setItem('chemAIUsers', JSON.stringify(users));
            localStorage.setItem('chemAIUser', JSON.stringify(newUser));
            
            showUserInfo(newUser);
            initializeUserProgress(newUser);
            showProtectedContent();
            signupModal.style.display = 'none';
            signupForm.reset();
            alert('Înregistrare reușită! Bine ai venit, ' + name + '!');
        });

        // Eveniment pentru butonul de generare exerciții
        generateExerciseBtn.addEventListener('click', function() {
            generateNewExercise();
        });

        // Eveniment pentru verificarea răspunsului la exercițiu
        checkAnswerBtn.addEventListener('click', function() {
            checkExerciseAnswer();
        });

        // Eveniment pentru butonul de începere a exercițiilor recomandate
        startExercisesBtn.addEventListener('click', function() {
            // Redirecționează către secțiunea de exerciții
            document.getElementById('exercitii').scrollIntoView({ behavior: 'smooth' });
            
            // Selectează automat ariile slabe în generatorul de exerciții
            const userProgress = JSON.parse(localStorage.getItem('chemAIUserProgress'));
            if (userProgress && userProgress.weakAreas && userProgress.weakAreas.length > 0) {
                // Selectează prima arie slabă
                const firstWeakArea = userProgress.weakAreas[0].category;
                topicSelect.value = firstWeakArea;
                
                // Generează un exercițiu automat
                setTimeout(() => {
                    generateNewExercise();
                }, 500);
            }
        });

        // Funcție pentru generarea unui nou exercițiu
        function generateNewExercise() {
            const topic = topicSelect.value;
            const difficulty = difficultySelect.value;
            const type = exerciseType.value;
            
            // Selectează exerciții din baza de date în funcție de topic
            let availableExercises = [];
            if (topic === 'all') {
                // Combină toate exercițiile din toate topic-urile
                Object.values(exerciseDatabase).forEach(exercises => {
                    availableExercises = availableExercises.concat(exercises);
                });
            } else {
                availableExercises = exerciseDatabase[topic] || [];
            }
            
            // Alege un exercițiu aleatoriu
            if (availableExercises.length > 0) {
                const randomIndex = Math.floor(Math.random() * availableExercises.length);
                const exercise = availableExercises[randomIndex];
                
                // Actualizează interfața cu noul exercițiu
                exerciseQuestion.textContent = exercise.question;
                
                // Generează opțiunile de răspuns
                exerciseOptions.innerHTML = '';
                exercise.options.forEach((option, index) => {
                    const optionElement = document.createElement('div');
                    optionElement.className = 'exercise-option';
                    optionElement.textContent = option;
                    optionElement.setAttribute('data-correct', index === exercise.correct ? 'true' : 'false');
                    optionElement.addEventListener('click', function() {
                        // Elimină selecția precedentă
                        document.querySelectorAll('.exercise-option').forEach(opt => {
                            opt.style.backgroundColor = '';
                            opt.style.borderColor = '#e9ecef';
                        });
                        
                        // Selectează opțiunea curentă
                        this.style.backgroundColor = 'rgba(76, 181, 174, 0.1)';
                        this.style.borderColor = 'var(--accent)';
                    });
                    exerciseOptions.appendChild(optionElement);
                });
                
                // Ascunde feedback-ul anterior
                exerciseFeedback.style.display = 'none';
                
                // Afișează exercițiul
                generatedExercise.style.display = 'block';
                
                // Salvează exercițiul curent pentru verificare
                generatedExercise.currentExercise = exercise;
            } else {
                alert('Nu există exerciții disponibile pentru acest topic. Încearcă alt topic.');
            }
        }

        // Funcție pentru verificarea răspunsului la exercițiu
        function checkExerciseAnswer() {
            const selectedOption = document.querySelector('.exercise-option[style*="background-color"]');
            
            if (!selectedOption) {
                alert('Te rugăm să selectezi un răspuns înainte de a verifica!');
                return;
            }
            
            const isCorrect = selectedOption.getAttribute('data-correct') === 'true';
            
            // Afișează feedback-ul
            exerciseFeedback.textContent = isCorrect ? 
                `✓ Corect! ${generatedExercise.currentExercise.explanation}` : 
                `✗ Incorect. Răspunsul corect este: ${generatedExercise.currentExercise.options[generatedExercise.currentExercise.correct]}. ${generatedExercise.currentExercise.explanation}`;
            
            exerciseFeedback.className = `exercise-feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            exerciseFeedback.style.display = 'block';
            
            // Actualizează progresul utilizatorului dacă este autentificat
            const user = JSON.parse(localStorage.getItem('chemAIUser'));
            if (user) {
                updateUserProgress(isCorrect);
            }
        }

        // Funcție pentru actualizarea progresului utilizatorului
        function updateUserProgress(isCorrect) {
            let userProgress = JSON.parse(localStorage.getItem('chemAIUserProgress'));
            
            if (userProgress) {
                // Actualizează numărul de exerciții completate
                userProgress.exercisesCompleted += 1;
                
                // Actualizează scorul mediu (simplificat)
                const currentScore = userProgress.averageScore;
                const newScore = isCorrect ? 
                    Math.min(currentScore + 2, 100) : 
                    Math.max(currentScore - 1, 0);
                userProgress.averageScore = newScore;
                
                // Actualizează progresul nivelului
                userProgress.levelProgress = Math.min(userProgress.levelProgress + (isCorrect ? 2 : 0.5), 100);
                
                // Verifică dacă utilizatorul a promovat la următorul nivel
                if (userProgress.levelProgress >= 100) {
                    if (userProgress.level === 'beginner') {
                        userProgress.level = 'intermediate';
                        userProgress.levelProgress = 0;
                        alert('Felicitări! Ai promovat la nivelul Intermediar!');
                    } else if (userProgress.level === 'intermediate') {
                        userProgress.level = 'advanced';
                        userProgress.levelProgress = 0;
                        alert('Felicitări! Ai promovat la nivelul Avansat!');
                    }
                }
                
                // Salvează progresul actualizat
                localStorage.setItem('chemAIUserProgress', JSON.stringify(userProgress));
                
                // Actualizează UI-ul
                updateProgressUI(userProgress);
            }
        }

        // Funcție pentru inițializarea testului
        function initializeTest() {
            // Generează întrebări pentru test
            testState.questions = [];
            testState.categoryScores = {};
            
            // Adaugă câte o întrebare din fiecare categorie
            Object.keys(exerciseDatabase).forEach(category => {
                if (exerciseDatabase[category].length > 0) {
                    const randomIndex = Math.floor(Math.random() * exerciseDatabase[category].length);
                    const question = exerciseDatabase[category][randomIndex];
                    question.category = category;
                    testState.questions.push(question);
                    testState.categoryScores[category] = 0;
                }
            });
            
            // Limitează la 10 întrebări
            testState.questions = testState.questions.slice(0, 10);
            testState.userAnswers = new Array(testState.questions.length).fill(null);
            
            // Afișează prima întrebare
            displayTestQuestion(0);
        }

        // Funcție pentru afișarea unei întrebări din test
        function displayTestQuestion(index) {
            if (index < 0 || index >= testState.questions.length) return;
            
            const question = testState.questions[index];
            testQuestion.textContent = question.question;
            
            // Generează opțiunile de răspuns
            testOptions.innerHTML = '';
            question.options.forEach((option, optionIndex) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'exercise-option';
                optionElement.textContent = option;
                optionElement.setAttribute('data-correct', optionIndex === question.correct ? 'true' : 'false');
                optionElement.addEventListener('click', function() {
                    // Elimină selecția precedentă
                    document.querySelectorAll('#testOptions .exercise-option').forEach(opt => {
                        opt.style.backgroundColor = '';
                        opt.style.borderColor = '#e9ecef';
                    });
                    
                    // Selectează opțiunea curentă
                    this.style.backgroundColor = 'rgba(76, 181, 174, 0.1)';
                    this.style.borderColor = 'var(--accent)';
                    
                    // Salvează răspunsul utilizatorului
                    testState.userAnswers[index] = optionIndex;
                });
                testOptions.appendChild(optionElement);
            });
            
            // Actualizează indicatorul de progres
            currentQuestion.textContent = `${index + 1}/${testState.questions.length}`;
            
            // Actualizează butoanele de navigare
            prevQuestionBtn.disabled = index === 0;
            nextQuestionBtn.textContent = index === testState.questions.length - 1 ? 
                'Finalizează Testul' : 'Următoarea Întrebare';
            
            // Restabilește selecția dacă utilizatorul a răspuns deja la această întrebare
            if (testState.userAnswers[index] !== null) {
                const options = document.querySelectorAll('#testOptions .exercise-option');
                if (options[testState.userAnswers[index]]) {
                    options[testState.userAnswers[index]].style.backgroundColor = 'rgba(76, 181, 174, 0.1)';
                    options[testState.userAnswers[index]].style.borderColor = 'var(--accent)';
                }
            }
            
            testState.currentQuestionIndex = index;
        }

        // Eveniment pentru butonul de întrebare anterioară
        prevQuestionBtn.addEventListener('click', function() {
            if (testState.currentQuestionIndex > 0) {
                displayTestQuestion(testState.currentQuestionIndex - 1);
            }
        });

        // Eveniment pentru butonul de întrebare următoare
        nextQuestionBtn.addEventListener('click', function() {
            if (testState.userAnswers[testState.currentQuestionIndex] === null) {
                alert('Te rugăm să selectezi un răspuns înainte de a continua!');
                return;
            }
            
            if (testState.currentQuestionIndex < testState.questions.length - 1) {
                displayTestQuestion(testState.currentQuestionIndex + 1);
            } else {
                // Finalizează testul
                finishTest();
            }
        });

        // Funcție pentru finalizarea testului
        function finishTest() {
            // Calculează scorul
            let correctCount = 0;
            testState.questions.forEach((question, index) => {
                if (testState.userAnswers[index] === question.correct) {
                    correctCount++;
                    // Actualizează scorul pentru categoria respectivă
                    if (testState.categoryScores[question.category] !== undefined) {
                        testState.categoryScores[question.category]++;
                    }
                }
            });
            
            testState.score = (correctCount / testState.questions.length) * 100;
            
            // Actualizează UI-ul cu rezultatele
            correctAnswers.textContent = correctCount;
            testScore.textContent = `${Math.round(testState.score)}%`;
            
            // Afișează rezultatele
            showTestResults(testState.score, testState.categoryScores);
            
            // Actualizează progresul utilizatorului
            updateUserProgressAfterTest(testState.score, testState.categoryScores);
        }

        // Funcție pentru afișarea rezultatelor testului
        function showTestResults(score, categoryScores) {
            // Ascunde secțiunea de test și afișează rezultatele
            document.querySelector('.enhanced-test').style.display = 'none';
            testResults.style.display = 'block';
            
            // Actualizează scorul final
            finalScore.textContent = `${Math.round(score)}%`;
            
            // Determină mesajul în funcție de scor
            let message = "";
            if (score >= 90) {
                message = "Excelent! Ai o înțelegere foarte bună a chimiei.";
            } else if (score >= 70) {
                message = "Bun! Ai cunoștințe solide, dar mai sunt câteva aspecte de îmbunătățit.";
            } else if (score >= 50) {
                message = "Acceptabil! Ai bazele, dar trebuie să exersezi mai mult.";
            } else {
                message = "Trebuie să mai lucrezi! Începe cu noțiunile de bază și exersează regulat.";
            }
            resultsMessage.textContent = message;
            
            // Identifică ariile slabe (categoriile cu scor mai mic de 50%)
            const weakAreas = [];
            Object.keys(categoryScores).forEach(category => {
                const categoryScore = (categoryScores[category] / 1) * 100; // 1 întrebare per categorie
                if (categoryScore < 50) {
                    weakAreas.push({
                        category: category,
                        score: categoryScore,
                        name: getCategoryName(category)
                    });
                }
            });
            
            // Sortează ariile slabe după scor (cel mai mic primul)
            weakAreas.sort((a, b) => a.score - b.score);
            
            // Afișează ariile slabe
            weakAreasList.innerHTML = '';
            if (weakAreas.length > 0) {
                weakAreas.forEach(area => {
                    const areaItem = document.createElement('div');
                    areaItem.className = 'area-item';
                    areaItem.innerHTML = `
                        <div class="area-name">${area.name}</div>
                        <div class="area-score">Scor: ${Math.round(area.score)}%</div>
                    `;
                    weakAreasList.appendChild(areaItem);
                });
            } else {
                weakAreasList.innerHTML = '<p>Felicitări! Nu ai arii slabe semnificative.</p>';
            }
            
            // Generează planul de învățare
            generateLearningPlan(weakAreas, score);
        }

        // Funcție pentru generarea planului de învățare
        function generateLearningPlan(weakAreas, overallScore) {
            learningPlanList.innerHTML = '';
            
            // Recomandări generale bazate pe scorul general
            if (overallScore < 50) {
                addRecommendation("Începe cu noțiunile de bază: atomi, structura atomică și tabelul periodic");
                addRecommendation("Exersează zilnic câte 15-20 de minute pentru a consolida cunoștințele");
                addRecommendation("Folosește chatbot-ul pentru a clarifica conceptele neînțelese");
            } else if (overallScore < 70) {
                addRecommendation("Consolidează-ți cunoștințele despre legături chimice și ecuații");
                addRecommendation("Rezolvă exerciții din toate categoriile pentru a identifica punctele slabe");
                addRecommendation("Revizuiește periodic materia parcursă");
            } else if (overallScore < 90) {
                addRecommendation("Perfecționează-ți abilitățile în ariile mai complexe: reacții redox și chimie organică");
                addRecommendation("Rezolvă probleme mai dificile pentru a-ți testa cunoștințele");
                addRecommendation("Ajută-ți colegii să înțeleagă conceptele pe care le stăpânești bine");
            } else {
                addRecommendation("Continuă să exersezi pentru a menține nivelul tău ridicat");
                addRecommendation("Explorează subiecte avansate din chimie");
                addRecommendation("Participă la olimpiade și concursuri de chimie");
            }
            
            // Recomandări specifice pentru ariile slabe
            weakAreas.forEach(area => {
                addRecommendation(`Concentrează-te pe ${area.name} - rezolvă mai multe exerciții din această categorie`);
            });
            
            // Recomandare finală
            addRecommendation("Completează testul periodic pentru a-ți urmări progresul");
        }

        // Funcție auxiliară pentru adăugarea recomandărilor
        function addRecommendation(text) {
            const li = document.createElement('li');
            li.innerHTML = `<i class="fas fa-check-circle"></i> ${text}`;
            learningPlanList.appendChild(li);
        }

        // Funcție pentru obținerea numelui categoriei
        function getCategoryName(category) {
            const categoryNames = {
                'atomi': 'Atomi și Structura Atomică',
                'tabel': 'Tabelul Periodic',
                'legaturi': 'Legături Chimice',
                'ecuatii': 'Ecuații Chimice',
                'reactii': 'Reacții Chimice',
                'acizi': 'Acizi și Baze',
                'redox': 'Reacții Redox',
                'organica': 'Chimie Organică',
                'solutii': 'Soluții și Concentrații'
            };
            return categoryNames[category] || category;
        }

        // Funcție pentru actualizarea progresului după test
        function updateUserProgressAfterTest(score, categoryScores) {
            let userProgress = JSON.parse(localStorage.getItem('chemAIUserProgress'));
            
            if (userProgress) {
                // Actualizează scorul mediu
                userProgress.averageScore = score;
                
                // Actualizează progresul nivelului
                userProgress.levelProgress = Math.min(userProgress.levelProgress + (score / 10), 100);
                
                // Identifică ariile slabe
                const weakAreas = [];
                Object.keys(categoryScores).forEach(category => {
                    const categoryScore = (categoryScores[category] / 1) * 100;
                    if (categoryScore < 50) {
                        weakAreas.push({
                            category: category,
                            score: categoryScore,
                            name: getCategoryName(category)
                        });
                    }
                });
                
                userProgress.weakAreas = weakAreas;
                userProgress.testCompleted = true;
                
                // Generează recomandări personalizate
                const recommendations = [];
                
                if (score < 50) {
                    recommendations.push("Completează exercițiile de bază despre atomi și structura atomică");
                    recommendations.push("Începe cu tabelul periodic și proprietățile elementelor");
                    recommendations.push("Folosește chatbot-ul pentru a clarifica conceptele de bază");
                } else if (score < 70) {
                    recommendations.push("Exersează echilibrarea ecuațiilor chimice");
                    recommendations.push("Învață diferențele dintre tipurile de legături chimice");
                    recommendations.push("Rezolvă probleme practice despre acizi și baze");
                } else if (score < 90) {
                    recommendations.push("Perfecționează-ți cunoștințele despre reacțiile redox");
                    recommendations.push("Studiază proprietățile compușilor organici");
                    recommendations.push("Rezolvă probleme complexe despre soluții și concentrații");
                } else {
                    recommendations.push("Explorează subiecte avansate din chimie");
                    recommendations.push("Participă la discuții despre aplicațiile practice ale chimiei");
                    recommendations.push("Ajută-ți colegii să înțeleagă conceptele dificile");
                }
                
                // Adaugă recomandări specifice pentru ariile slabe
                weakAreas.forEach(area => {
                    recommendations.push(`Concentrează-te pe ${area.name} - aceasta este aria ta cea mai slabă`);
                });
                
                userProgress.recommendations = recommendations;
                
                // Salvează progresul actualizat
                localStorage.setItem('chemAIUserProgress', JSON.stringify(userProgress));
                
                // Actualizează UI-ul
                updateProgressUI(userProgress);
            }
        }

        // Funcție pentru demo-ul interactiv
        function checkAnswer(element, selected) {
            const correctAnswer = 'B';
            const feedback = document.getElementById('feedback');
            
            // Resetăm toate opțiunile
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.style.backgroundColor = '';
                opt.style.color = '';
                opt.style.fontWeight = '';
                opt.style.borderColor = '';
            });
            
            if (selected === correctAnswer) {
                element.style.backgroundColor = 'var(--success)';
                element.style.color = 'white';
                element.style.fontWeight = 'bold';
                element.style.borderColor = 'var(--success)';
                feedback.innerHTML = '<p style="color: var(--success);"><i class="fas fa-check-circle"></i> Corect! CH₃-CH₂-OH este etanol, un alcool, deoarece conține gruparea hidroxil (-OH) legată de un carbon saturat.</p>';
            } else {
                element.style.backgroundColor = 'var(--danger)';
                element.style.color = 'white';
                element.style.fontWeight = 'bold';
                element.style.borderColor = 'var(--danger)';
                feedback.innerHTML = '<p style="color: var(--danger);"><i class="fas fa-times-circle"></i> Incorect. CH₃-CH₂-OH (etanol) este alcool. Opțiunile A și C sunt eteri deoarece au atomul de oxigen legat de doi radicali de carbon.</p>';
            }
            
            feedback.style.display = 'block';
        }
        
        // Formular newsletter
        newsletterForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = this.querySelector('input[type="email"]').value;
            alert(`Mulțumim pentru abonare, ${email}! Vei primi noutățile despre ChemAI în scurt timp.`);
            this.reset();
        });

        // Închidere modală la click în afara ei
        window.addEventListener('click', function(e) {
            if (e.target === loginModal) {
                loginModal.style.display = 'none';
                loginForm.reset();
            }
            if (e.target === signupModal) {
                signupModal.style.display = 'none';
                signupForm.reset();
            }
        });

        // Chatbot Functionality
        chatbotToggle.addEventListener('click', function() {
            chatbotWindow.style.display = 'flex';
        });

        chatbotClose.addEventListener('click', function() {
            chatbotWindow.style.display = 'none';
        });

        chatbotSend.addEventListener('click', sendMessage);
        chatbotInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });

        // Adăugare evenimente pentru întrebări rapide
        quickQuestions.forEach(button => {
            button.addEventListener('click', function() {
                const question = this.getAttribute('data-question');
                chatbotInput.value = question;
                sendMessage();
            });
        });

        function sendMessage() {
            const message = chatbotInput.value.trim();
            if (message === '') return;

            // Adăugare mesaj utilizator
            addMessage(message, 'user');
            chatbotInput.value = '';

            // Simulare răspuns AI
            setTimeout(() => {
                const response = getBotResponse(message);
                addMessage(response, 'bot');
            }, 1000);
        }

        function addMessage(text, sender) {
            const messageElement = document.createElement('div');
            messageElement.classList.add('message');
            messageElement.classList.add(sender === 'user' ? 'user-message' : 'bot-message');
            messageElement.textContent = text;
            chatbotMessages.appendChild(messageElement);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }

        function getBotResponse(question) {
            const lowerQuestion = question.toLowerCase();
            
            // Baza de cunoștințe pentru chimia de liceu
            if (lowerQuestion.includes('atom') || lowerQuestion.includes('ce este un atom')) {
                return "Un atom este cea mai mică particulă a unui element chimic care păstrează proprietățile chimice ale acelui element. Atomii sunt formați dintr-un nucleu (protoni și neutroni) și electroni care se rotesc în jurul nucleului.";
            } else if (lowerQuestion.includes('echilibrează') || lowerQuestion.includes('ecuații chimice')) {
                return "Pentru a echilibra o ecuație chimică, urmezi aceste etape:\n1. Scrie reactanții și produșii\n2. Numără atomii fiecărui element pe ambele părți\n3. Adaugă coeficienți în fața formulelor pentru a egaliza numărul de atomi\n4. Verifică dacă toți atomii sunt echilibrați\nExemplu: 2H₂ + O₂ → 2H₂O";
            } else if (lowerQuestion.includes('acid') || lowerQuestion.includes('bază')) {
                return "Diferențe principale între acizi și baze:\n• Acizii au pH < 7, bazele au pH > 7\n• Acizii eliberează ioni H⁺ în soluție\n• Bazele eliberează ioni OH⁻ în soluție\n• Acizii au gust acru, bazele au gust amar\n• Exemple: HCl (acid), NaOH (bază)";
            } else if (lowerQuestion.includes('redox')) {
                return "Reacțiile redox sunt reacții chimice în care are loc transfer de electroni între speciile chimice. Include două procese:\n• Oxidare: pierdere de electroni\n• Reducere: câștig de electroni\nExemplu: Zn + Cu²⁺ → Zn²⁺ + Cu (Zn se oxidează, Cu²⁺ se reduce)";
            } else if (lowerQuestion.includes('mol') || lowerQuestion.includes('molă')) {
                return "Mola este unitatea de măsură pentru cantitatea de substanță. O molă conține 6.022 × 10²³ particule (numărul lui Avogadro).\nFormula: n = m/M, unde:\nn = număr de moli\nm = masa substanței (g)\nM = masa molară (g/mol)";
            } else if (lowerQuestion.includes('tabelul periodic')) {
                return "Tabelul periodic aranjează elementele chimice în funcție de:\n• Numărul atomic (numărul de protoni)\n• Configurația electronică\n• Proprietăți chimice similare\nElementele sunt grupate în:\n• Metale, nemetale, semimetale\n• Grupe (coloane) și perioade (rânduri)";
            } else if (lowerQuestion.includes('legătură chimică') || lowerQuestion.includes('legături')) {
                return "Tipuri principale de legături chimice:\n1. Legături ionice - transfer de electroni (între metale și nemetale)\n2. Legături covalente - împărțirea electronilor (între nemetale)\n3. Legături metalice - în rețelele metalice\n4. Legături de hidrogen - între moleculele polare";
            } else if (lowerQuestion.includes('salut') || lowerQuestion.includes('bună')) {
                return "Salut! Sunt asistentul tău virtual pentru chimie. Poți să mă întrebi despre:\n• Atomii și structura atomică\n• Tabelul periodic\n• Legături chimice\n• Ecuații chimice\n• Reacții chimice\n• Soluții și concentrații\n• Chimie organică\nCu ce te pot ajuta?";
            } else {
                return "Întrebare interesantă! Din păcate, baza mea de cunoștințe este limitată la chimia de liceu. Poți încerca să reformulezi întrebarea sau să alegi una dintre întrebările rapide de mai sus. Dacă ai nevoie de ajutor cu un anumit concept chimic, sunt aici să te ajut!";
            }
        }
    </script>
</body>
</html>
